= Anypoint Runtime Fabric のシステム要件
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:noindex:

Anypoint Runtime Fabric では、開発と本番の設定がサポートされます。以下で各設定の要件について説明します。これらの環境についての詳細は、xref:architecture.adoc[「Runtime Fabric アーキテクチャ」]を参照してください。

[WARNING]
Runtime Fabric をインストールする前に、運用および IT チームと共にこれらの要件について確認し、適切なインフラストラクチャをプロビジョニングしていることを確認してください。

== オペレーティングシステム要件

Anypoint Runtime Fabric には、次のいずれかのオペレーティングシステムが必要です。

* Red Hat (RHEL) v7.4、v7.5
* CentOS v7.4、v7.5

各 VM で同じオペレーティングシステムを使用します。別のオペレーティングシステムバージョンまたはディストリビューションに Runtime Fabric をインストールしようとすると、Runtime Fabric インストーラは失敗します。


== 本番設定

Runtime Fabric の本番設定では、次の図で示すように少なくとも 6 個の VM が必要です。

image::architecture-production.png[]

以下のセクションでは、本番設定での各コントローラ VM とワーカー VM の最小システム要件について説明します。

=== コントローラ VM

本番環境のコントローラ VM の最小数は 3 です。最大値は 5 です。これらの要件は、高可用性を維持し、システムパフォーマンスを確保するための最小要件を反映しています。

各コントローラ VM には以下が必要です。

** それぞれ最小 2 コア。
** 最小 8 GiB メモリ。
** オペレーティングシステム専用の 80 GiB ディスク。
*** `/tmp` ディレクトリ用に 20 GiB 以上。
*** `/opt/anypoint/runtimefabric` ディレクトリ用に 8 GiB 以上。
*** `/var/log/` ディレクトリ用に 1 GiB 以上。
** etcd 用にプロビジョニングされた 3000 IOPS を備えた 60 GiB の専用ディスク。
** Docker 用にプロビジョニングされた 1000 IOPS を備えた 250 GiB の専用ディスク。

=== ワーカー VM

Runtime Fabric は、Mule アプリケーションと API ゲートウェイを実行するために少なくとも 3 個のワーカー VM を必要とします。サポートされるワーカー VM の最大数は 16 です。

各ワーカー VM には以下が必要です。

** それぞれ最小 2 コア。
** 最小 15 GiB メモリ。
** オペレーティングシステム専用の 80 GiB ディスク。
*** `/tmp` ディレクトリ用に 20 GiB 以上。
*** `/opt/anypoint/runtimefabric` ディレクトリ用に 8 GiB 以上。
*** `/var/log/` ディレクトリ用に 1 GiB 以上。
** Docker 用にプロビジョニングされた 1000 IOPS を備えた 250 GiB の専用ディスク。

=== 本番環境の追加のリソース要件

Runtime Fabric を本番環境で使用するには、以下も必要です。

* 外部ロードバランサ: Runtime Fabric への受信トラフィックを有効にする場合に必要です。各コントローラ VM で構成されるサーバプールを使用した TCP ロードバランサでは不十分です。
* ハードディスクを含む少なくとも 1 個の追加のワーカー VM。この VM は次の場合に使用する必要があります。
  ** Runtime Fabric のメジャーバージョンへのローリングアップグレードの実行
  ** オペレーティングシステムレベルのパッチの実行


== 開発設定

開発環境では、Runtime Fabric は、次の図で示すように最小 3 個の VM を必要とします。

image::architecture-development.png[]

以下のセクションでは、開発設定での各コントローラ VM とワーカー VM の最小システム要件について説明します。

=== コントローラ VM

開発環境では、Runtime Fabric は少なくとも 1 個のコントローラ VM を必要とします。サポートされる最大値は 5 です。

各コントローラ VM には以下が必要です。

** それぞれ最小 2 コア。
** 最小 8 GiB メモリ。
** オペレーティングシステム専用の 80 GiB ディスク。
*** `/tmp` ディレクトリ用に 20 GiB 以上。
*** `/opt/anypoint/runtimefabric` ディレクトリ用に 8 GiB 以上。
*** `/var/log/` ディレクトリ用に 1 GiB 以上。
** etcd 用にプロビジョニングされた 3000 IOPS を備えた 60 GiB の専用ディスク。
** Docker 用にプロビジョニングされた 1000 IOPS を備えた 100 GiB の専用ディスク。

=== ワーカー VM

Runtime Fabric は、Mule アプリケーションと API ゲートウェイを実行するために少なくとも 2 個のワーカー VM を必要とします。サポートされるワーカー VM の最大数は 16 です。

各ワーカー VM には以下が必要です。

** それぞれ最小 2 コア。
** 最小 15 GiB メモリ。
** オペレーティングシステム専用の 80 GiB ディスク。
*** `/tmp` ディレクトリ用に 20 GiB 以上。
*** `/opt/anypoint/runtimefabric` ディレクトリ用に 8 GiB 以上。
*** `/var/log/` ディレクトリ用に 1 GiB 以上。
** Docker 用にプロビジョニングされた 1000 IOPS を備えた 100 GiB の専用ディスク。

=== 開発環境の追加のリソース要件

アップグレード中に Runtime Fabric インストールを保持するには、ハードディスクを含む少なくとも 1 個の追加のワーカー VM が必要です。この VM は次の場合にのみ使用する必要があります。

* Runtime Fabric のメジャーバージョンへのローリングアップグレードの実行
* オペレーティングシステムレベルのパッチの実行


== 関連情報

* xref:install-port-reqs.adoc[Anypoint Runtime Fabric のネットワークとポートの要件]
